# ![](data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjwh%0D%0ALS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoK%0D%0APHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHht%0D%0AbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0%0D%0AcDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJo%0D%0AdHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIw%0D%0AMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5l%0D%0AdC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3Nj%0D%0AYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMjEwbW0iCiAgIGhlaWdodD0i%0D%0AMjk3bW0iCiAgIHZpZXdCb3g9IjAgMCAyMTAgMjk3IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJz%0D%0Admc4IgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjEgcjE1MzcxIgogICBzb2RpcG9kaTpkb2Nu%0D%0AYW1lPSJDRUxMX2xvZ28uc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBv%0D%0AZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAg%0D%0AIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtz%0D%0AY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAg%0D%0AaW5rc2NhcGU6em9vbT0iMC4zNSIKICAgICBpbmtzY2FwZTpjeD0iLTkwLjQ2MjE0MiIKICAgICBp%0D%0AbmtzY2FwZTpjeT0iNTgyLjEyNTQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIK%0D%0AICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNl%0D%0AIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTg1MCIKICAgICBpbmtzY2FwZTp3aW5kb3ct%0D%0AaGVpZ2h0PSIxMDU3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxOTEyIgogICAgIGlua3NjYXBl%0D%0AOndpbmRvdy15PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIiAvPgogIDxt%0D%0AZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3Jr%0D%0ACiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8%0D%0AL2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0%0D%0AcDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxl%0D%0APjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRh%0D%0APgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBt%0D%0Ab2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJv%0D%0AcGFjaXR5OjE7ZmlsbDojZDFiNWU1O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0%0D%0Acm9rZTojNzMzOWEwO3N0cm9rZS13aWR0aDoyMDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Ut%0D%0AbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7%0D%0Ac3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOmZpbGwgbWFy%0D%0Aa2VycyBzdHJva2UiCiAgICAgICBpZD0icGF0aDQ0ODUiCiAgICAgICBjeD0iMTEzLjQxNjQ4Igog%0D%0AICAgICAgY3k9IjE1My44MTc5IgogICAgICAgcj0iNDQuNjAxMTg5IiAvPgogIDwvZz4KICA8Zwog%0D%0AICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMiIKICAgICBpbmtz%0D%0AY2FwZTpsYWJlbD0ibWlkZGxlIgogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICA8Y2ly%0D%0AY2xlCiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2RlODdjZDtmaWxsLW9wYWNpdHk6MTtm%0D%0AaWxsLXJ1bGU6bm9uemVybztzdHJva2U6Izc4MjE2NztzdHJva2Utd2lkdGg6MTA7c3Ryb2tlLWxp%0D%0AbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ry%0D%0Ab2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MTtw%0D%0AYWludC1vcmRlcjpub3JtYWwiCiAgICAgICBpZD0icGF0aDQ0ODciCiAgICAgICBjeD0iMTA2LjQz%0D%0AMjczIgogICAgICAgY3k9IjE0Ny43OTExNCIKICAgICAgIHI9IjE2LjA2Mzk4OCIgLz4KICA8L2c+%0D%0ACiAgPGcKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjMiCiAg%0D%0AICAgaW5rc2NhcGU6bGFiZWw9InRvcCIKICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPgogICAg%0D%0APGVsbGlwc2UKICAgICAgIGN5PSIxNDguOTI5NzYiCiAgICAgICBjeD0iMTA1LjgzMzMyIgogICAg%0D%0AICAgaWQ9ImNpcmNsZTQ0OTciCiAgICAgICBzdHlsZT0ib3BhY2l0eTowLjI2MzAwMDAxO2ZpbGw6%0D%0AI2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6I2ZmZmZmZjtz%0D%0AdHJva2Utd2lkdGg6OC44NDczNDM0NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpv%0D%0AaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tl%0D%0ALWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOmZpbGwgbWFya2VycyBz%0D%0AdHJva2UiCiAgICAgICByeD0iMzkuMTI5ODk0IgogICAgICAgcnk9IjM5Ljc5MzI5NyIgLz4KICAg%0D%0AIDxlbGxpcHNlCiAgICAgICByeT0iNjIuMDQyMzgxIgogICAgICAgcng9IjYxLjAwODA1NyIKICAg%0D%0AICAgIHN0eWxlPSJvcGFjaXR5OjAuMjYzMDAwMDE7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eTox%0D%0AO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoxMy43OTQwMzg3%0D%0ANztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVy%0D%0AbGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Ut%0D%0Ab3BhY2l0eToxO3BhaW50LW9yZGVyOmZpbGwgbWFya2VycyBzdHJva2UiCiAgICAgICBpZD0iZWxs%0D%0AaXBzZTQ1MDUiCiAgICAgICBjeD0iODMuNzEwOTY4IgogICAgICAgY3k9IjEzOC45NzA2MyIgLz4K%0D%0AICAgIDxlbGxpcHNlCiAgICAgICBjeT0iMTI0Ljk5OTkxIgogICAgICAgY3g9IjYyLjUxNjgwOCIK%0D%0AICAgICAgIGlkPSJlbGxpcHNlNDUwNyIKICAgICAgIHN0eWxlPSJvcGFjaXR5OjAuMjYzMDAwMDE7%0D%0AZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTojZmZm%0D%0AZmZmO3N0cm9rZS13aWR0aDoxOS4wMTAwMDAyMztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Ut%0D%0AbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7%0D%0Ac3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOmZpbGwgbWFy%0D%0Aa2VycyBzdHJva2UiCiAgICAgICByeD0iODQuMDc1MTgiCiAgICAgICByeT0iODUuNTAwNTgiIC8+%0D%0ACiAgICA8ZWxsaXBzZQogICAgICAgcnk9IjM1LjkyOTEyMyIKICAgICAgIHJ4PSIzNS4zMzAxMzki%0D%0ACiAgICAgICBzdHlsZT0ib3BhY2l0eTowLjI2MzAwMDAxO2ZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNp%0D%0AdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6Ny45ODgy%0D%0AMTI1OTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1p%0D%0AdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJv%0D%0Aa2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOmZpbGwgbWFya2VycyBzdHJva2UiCiAgICAgICBpZD0i%0D%0AZWxsaXBzZTQ1MDkiCiAgICAgICBjeD0iMTA5LjA2NzU3IgogICAgICAgY3k9IjE1MS43MTkwNCIg%0D%0ALz4KICA8L2c+CiAgPGcKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJs%0D%0AYXllcjQiCiAgICAgaW5rc2NhcGU6bGFiZWw9InN0YXIiCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5s%0D%0AaW5lIj4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtvcGFjaXR5OjE7%0D%0AZmlsbDojYjVkMWU1O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTojNjA5%0D%0AYmM3O3N0cm9rZS13aWR0aDoxNC43NDc1MTI4MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Ut%0D%0AbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7%0D%0Ac3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOm5vcm1hbCIK%0D%0AICAgICAgIGlkPSJwYXRoNDQ4Ny0xIgogICAgICAgY3g9IjEwNC42OTk0MiIKICAgICAgIGN5PSIx%0D%0ANDcuNjk5NDIiCiAgICAgICByPSIyMy42OTAzOTIiIC8+CiAgPC9nPgo8L3N2Zz4K) CELL Project
COSC 310 - Group 24

**Authors:** Everton S. - Trevor R. - Joshua H. - Noah C. - Eloise E.

*This branch was further developed by Noah Cukiert.*

## Contents

* [About](#About)
* [How To View The Project](#How-To-View-The-Project)
* [How To Host The Project Locally](#How-To-Host-The-Project-Locally)
* [File Structure](#File-Structure)
* [Function Descriptions](#Function-Descriptions)
* [Assignment #3 Further Development](#Assignment-3---Further-Development)

## About

The **Conversational Environment for Learning Languages**, or **CELL** for short, is a chatbot that allows the user to converse and play different games in different languages. All features take place in a seamless and natural conversation that can be viewed on a desktop, laptop or mobile device.

## How To View The Project

The CELL Project is currently being hosted online, and can be viewed and utilized [here](https://mighty-inlet-33381.herokuapp.com/) (_link is not updated for the latest individual assignment_).

## How To Host The Project Locally

Since CELL works off the Node.js framework, it can be easily hosted locally on your computer if you wish to do so.

**Step 1:** Download the CELL Project

This can be done in a variety of ways. You could simply download all the files, use Git to clone the respository directly, or even clone it to some IDE. The project even has a .PROJECT file, so it should be recognized by Eclipse (no IDE is necessary though).

**Step 2:** Download & Install Node.js & NPM

You can do so by downloading the Windows or Mac version [here](https://nodejs.org/en/download/). Node.js and NPM come bundled together, so it's one simple download. Run the file downloaded in order to install it.

**Step 3:** Install Nodemon

With your command prompt or terminal, navigate to wherever your CELL project is located. You should be able to see all the files as they are shown in this repository. Use the following command to install Nodemon:

```
npm install -g nodemon
```

**Step 4:** Run Nodemon

Now that everything is setup, with your command prompt still in your CELL directory, use the following command to start your locally hosted version of CELL:

```
nodemon start
```

With that, the CELL project will be running solely for your machine on your local address:

```
127.0.0.1:3000
```

## File Structure

* **Views** - Includes all HTML files; the pages available on our site.
* **Public > Stylesheets** - Includes all CSS files; the customization of our page's looks.
* **Public > Javascripts** - Includes all JavaScript files; the functionality of our pages and bot.

In **views**, we have 'index.ejs' that holds the homepage of our website, and the base for the bot to go on. We also have 'error.ejs' that loads in case the user enters a wrong url within our website.

In **Public > Stylesheets**, we have 'style.css' which contains all the custom CSS we have used within our pages. We are also using Bootstrap CSS, with anything on our custom CSS file overriding it.

In **Public > Javascripts**, we have 'ChatBot.js' which includes all the main functionality and decision making of the CELL bot. We also have 'ChatTrie.js' which includes the Trie structure in which all predicted inputs and outputs are stored (more details on this structure can be found in the function descriptions section). Finally, 'Hangman.js' includes the functionality in order to allow the bot to play a game of hangman with the user.

## Function Descriptions

* **ChatTrie.js**
  * chatTrie(data) - This function takes the user data entered into the chatbot and checks it for similarities in the trie data structure. Each word from each question/statement is checked by searching through the trie for a matching relevance for each word, the relevance is measured through by a number value. The maximum value question is kept track of and once the search is done the relevant answer is returned to the chatbot as a response to the user question.
    * getRelevance(word) - The function takes each word from the user response and returns the length of the matching word and the array of references to the phrases/responses associated to that word. This function also works with partial matches for words as well.
    * search(str) - This function takes the users full response and searches the trie to determine the match with the greatest correlation by using the getRelevance() function. The returned value is the response with the highest correlation value that meets the treshold requirement when compared to the users response.
    * addWord(word, ref) - This function takes a word when building the trie and adds a reference to it on each node that it is a part of. If there is no match then a new node is created for the trie.
    * build() - The function that builds the initial trie from an existing array of questions/phrases asked by the user with correlating responses that the bot knows. The function will also replace words with accents on them to make it easier to work with later on.
  * trieNode() - This creates a new node in the trie.

* **ChatBot.js**
  * onload() - Contains some actions to complete when the page first loads. This includes getting the current time, posting an initial message from the bot to the user, and placing the user's cursor on the text input automatically.
  * generateResponse() - This is the main function to acquire an appropriate response from the bot. It searches the trie structure in order to do so. This method also checks if the acquired response is a command to start a game or initialize a translation.
  * equalStr(str1, str2) - Checks if a string is the same as another. Checks for null strings and then for equal length for optimization purposes.

* **Hangman.js**
  * hangmanGame(dictionary, speakLang) - This function contains the main functionality of the hangman game. It collects all required variables for a game to begin and contains the following four functions:
    * guessLetter(char) - Keeps track of guesses as well as if the letter guessed by the user is correct or wrong. It also has statetements in case the user runs out of guesses or successfully finishes the game.
    * getCurrent() - Returns the word to the user with un-guessed letters hidden. This is so that the user can keep track of what they have guessed correctly, the length of the word, and so on.
    * getInitialStatement() - Contains the initial statement once a game of hangman is started.
    * getGuessFromString(str) - This functions extracts the letter guessed by the user from their input.
  * getHangmanResponse(str) - This function makes use of the functions above in order to start the game, and calls the appropriate functions throughout the game.

## Assignment #3 - Further Development

* **Features Added**
  * Simple GUI
    * A fully browser-integrated GUI was implemented since version 1.0. No changes were necessary at this stage.
  * Extra Topic
    * Since our chatbot is not topic-based, it can respond to any coherent statement. No topic changes were made at this stage.
  * Extra Language
    * Our chatbot is, however, language-based in terms of its capabilities. In version 1.0, CELL was able to comprehend and respond to statements in English and French. In the current version, CELL can now comprehend and respond to statements in English, French and Portuguese. To accomplish this, our entire database of statements and responses was translated manually in order to create a coherent and proficient conversation in the extra language.
  * Responses Outside Topics
    * Since version 1.0, unless the user types something completely incomprehensible, any statement receives an appropriate response. No changes were necessary at this stage.
  * Handling Spelling Mistakes
    * Since version 1.0, our trie structure finds similarities between user statements to understandable statements, meaning no addition of a spell-checker or anything similar was needed.
  * Language Toolkits
    * Not implemented.
  * Agent-to-Agent Communication
    * Not implemented.
  
* **Level 0 Data Flow Diagram**
  ![](https://github.com/Ncookiez/310-Cell-Project/blob/NC/public/images/DFD0.PNG?raw=true)
  
* **Level 1 Data Flow Diagram**
  ![](https://github.com/Ncookiez/310-Cell-Project/blob/NC/public/images/DFD1.PNG?raw=true)

* **Feature Demonstration**
  * //TODO

* **Current Limitations**
  * //TODO list + 2 fail examples

* **Possible Exportable Features**
  * //TODO 5 features that could be made into API

* **Video Presentation**
  * //TODO 60-90s introduction + added features + DFD descriptions
